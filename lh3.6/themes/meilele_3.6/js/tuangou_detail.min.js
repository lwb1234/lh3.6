var TG = {
	addNum: function() {
		var b = this.getBuyNum();
		var a = parseInt(M.$("#JS_user_limit").innerHTML);
		if (a && a > 0) {
			if (b < a) {
				M.$("#JS_buy_num").value = b + 1;
			} else {
				M.$("#JS_buy_num").value = b;
				alert("此商品每个ID最多购买" + a + "件");
			}
		} else {
			M.$("#JS_buy_num").value = b + 1;
		}
	},
	jianNum: function() {
		var a = this.getBuyNum();
		if (a == 1) {
			M.$("#JS_buy_num").value = 1;
		} else {
			M.$("#JS_buy_num").value = a - 1;
		}
	},
	numKeyUp: function() {
		var b = this.getBuyNum();
		var a = M.$("#JS_user_limit").innerHTML;
		M.$("#JS_buy_num").value = this.formatNumber(b);
		if (b && a) {
			if (b > a) {
				M.$("#JS_buy_num").value = 1;
				alert("此商品每个ID最多购买" + a + "件");
			}
		}
	},
	formatNumber: function(b) {
		var a = parseInt((b || 1));
		if (!a || a < 1) {
			a = 1;
		}
		if (a > 9999) {
			a = 9999;
		}
		return a;
	},
	getBuyNum: function() {
		return parseInt(M.$("#JS_buy_num").value);
	},
	showTime: function(c, a) {
		var f = parseInt(a - c);
		d = parseInt(f / 3600 / 24);
		h = parseInt((f / 3600) % 24);
		m = parseInt((f / 60) % 60);
		s = parseInt(f % 60);
		var e = setInterval(b, 1000);
		function b() {
			s = s - 1;
			if (s < 0) {
				s = 59;
				m = m - 1;
			}
			if (parseInt(m) < 0) {
				m = 59;
				h = h - 1;
			}
			if (h < 0) {
				h = 59;
				d = d - 1;
			}
			if (d < 0) {
				d = 0;
				h = 0;
				m = 0;
				s = 0;
				clearInterval(e);
			}
			if (s < 10) {
				s = "0" + s;
			}
			M.$("#JS_tg_timer").innerHTML = "<b>" + d + "</b>天<b>" + h + "</b>时<b>" + m + "</b>分<b>" + s + "</b>秒";
		}
	}
};

